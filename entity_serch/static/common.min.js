function toggleNavbar(){let e=document.getElementById("navbar");e&&e.classList.toggle("active")}function updateLink(){let e=document.getElementById("current_dataset_link"),t=document.querySelectorAll("#dataset-select option:checked");if(e){if(t.length>0){let n=t[t.length-1],l=n.value;e.href=`/current/${l}`,e.textContent=`Current (${l})`}else e.href="/current/",e.textContent="Current"}}const socket=io(),predictForm=document.getElementById("predict-form");if(predictForm){function e(e){let t=document.getElementById("result");t&&(t.innerHTML=`
<div class="pred-div"><div class="prefix" style="display: flex; align-content: center;"><span style="font-size: 16px; color: #fff5aa;">${e.amount}</span><span style="color: #f6ffd5;"> entity was found in </span><span style="font-size: 18px;">${e.dataset_name}</span></div><div class='tab_of_predicts'><table class="transparent-table"><thead><tr><th>ID</th><th>Shure</th><th>Name</th></tr></thead><tbody>${e.prediction.id.map((t,n)=>`<tr><td>${t}</td><td>${e.prediction.shure[n]}</td><td>${e.prediction.name[n]}</td></tr>`).join("")}</tbody></table></div></div>`)}predictForm.onsubmit=function(e){e.preventDefault();let t=document.getElementById("confidenceThreshold").value/100,n=document.getElementById("precisionRecall").value/100,l=document.getElementById("checkbox1")?.checked,i=document.getElementById("checkbox2")?.checked,d=document.getElementById("dataset-select"),a=Array.from(d.selectedOptions).map(e=>e.value),o=this.text.value;socket.emit("predict",{dataset:a,text:o,threshold:t,fullness:n,istext:l,isdescription:i})},socket.on("data_ready",t=>{console.log("Received data:",t),e(t)});let t=document.getElementById("confidenceThreshold"),n=document.getElementById("precisionRecall"),l=document.getElementById("confidenceValue"),i=document.getElementById("precisionValue");if(t&&l){function d(){l.textContent=(t.value/100).toFixed(2)}t.addEventListener("input",d),d()}if(n&&i){function a(){i.textContent=(n.value/100).toFixed(2)}n.addEventListener("input",a),a()}document.querySelectorAll(".whatitis").forEach(e=>{e.addEventListener("click",()=>{let t=e.nextElementSibling;t&&(t.style.display="block"===t.style.display?"none":"block")})})}const csvFileInput=document.getElementById("csv-file");csvFileInput&&csvFileInput.addEventListener("change",function(e){e.preventDefault()});const dropdowns=document.querySelectorAll(".dropdown");function toggleIdInput(){let e=document.getElementById("isid_checkbox"),t=document.getElementById("idInputWrapper"),n=document.getElementById("name_p"),l=document.getElementById("description_p");e&&t&&(e.checked?(t.style.display="block",n.value=1,n.placeholder="e.g. 1",l.value=2,l.placeholder="e.g. 2"):(t.style.display="none",n.value=0,n.placeholder="e.g. 0",l.value=1,l.placeholder="e.g. 1"))}function validateWordInput(e){/^[a-zA-Zа-яА-ЯёЁ0-9]+$/.test(e.value)?e.classList.add("valid"):e.classList.remove("valid")}function toggleContainerActive(e){e.querySelector('input[type="text"]:focus')||e.querySelector("textarea:focus")?e.classList.add("active"):e.classList.remove("active")}dropdowns.forEach(e=>{let t=e.querySelector(".setting_button"),n=e.querySelector(".dropdown-content");if(t&&t.addEventListener("click",t=>{e.classList.toggle("show"),t.stopPropagation()}),document.addEventListener("click",()=>{e.classList.remove("show")}),n){n.addEventListener("click",e=>{e.stopPropagation()});let l=e.querySelector(".btn-ok");l&&l.addEventListener("click",()=>{e.classList.remove("show")})}}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".edit-menu"),t=document.getElementById("hidden-id"),n=document.getElementById("word"),l=document.getElementById("description");e.forEach(e=>{e.addEventListener("click",function(){let e=this.getAttribute("data-entityid"),i=this.getAttribute("data-entityname"),d=this.getAttribute("data-description");t&&n&&l&&(t.value=e,n.value=i,l.value=d)})})});